<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>dnsmasq-web</title>
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.css">
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
</head>
<style>
	body {
		font-family: monospace;
	}

	th,
	td {
		text-align: left;
		padding-bottom: 5px;
		padding-right: 30px;
	}

	tr:hover {
		background: #ccc;
	}
</style>

<body>
	<table id="leases">
		<thead>
			<tr>
				<th>IP Address</th>
				<th>Mac Address</th>
				<th>Name</th>
				<th>Lease ends on</th>
			</tr>
		</thead>
		<tbody id="leases_body">

		</tbody>
	</table>
	<script>
		$SCRIPT_ROOT = {{ request.script_root | tojson | safe }};
		$.getJSON($SCRIPT_ROOT + '/leases', function (data) {
			$('#leases_body').append(
				$.map(data.leases, function (ignore, index) {
					return '<tr>' +
						'<td>' + data.leases[index].ipAddress + '</td>' +
						'<td>' + data.leases[index].macAddress + '</td>' +
						'<td>' + data.leases[index].name + '</td>' +
						'<td>' + data.leases[index].leasetime + '</td>' +
						'</tr>';
				}).join());

			// Initialize DataTables after appending data
			$('#leases').DataTable();
		});
	</script>
</body>

</html>